<h3 class="result-info">
    {{testResultsFiltered.length}}/{{testResults.length}} Test-Results
</h3>
<form [formGroup]="searchForm" autocomplete="off">
    <mat-form-field>
        <input matInput type="text" placeholder="Suchen" formControlName="filter" id="filter" #filterRef>
    </mat-form-field>
    <app-sonderzeichen-leiste [input]="filter" [inputRef]="filterRef"></app-sonderzeichen-leiste>
</form>
<div class="buttonbar">
    <button mat-raised-button (click)="toggleCorrect()" [ngClass]="{'hidden': this.hideCorrect}">
        <span class="is-correct">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                <path fill-rule="evenodd"
                    d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z" />
            </svg>
        </span>
    </button>
    <button mat-raised-button (click)="toggleAccent()" [ngClass]="{'hidden': this.hideAccent}">
        <span class="is-mostly-correct">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-exclamation-triangle" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M7.938 2.016a.146.146 0 0 0-.054.057L1.027 13.74a.176.176 0 0 0-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 0 0 .066-.017.163.163 0 0 0 .055-.06.176.176 0 0 0-.003-.183L8.12 2.073a.146.146 0 0 0-.054-.057A.13.13 0 0 0 8.002 2a.13.13 0 0 0-.064.016zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z" />
                <path
                    d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z" />
            </svg>
        </span>
    </button>
    <button mat-raised-button (click)="toggleArtikel()" [ngClass]="{'hidden': this.hideArtikel}">
        <span class="is-mostly-correct male">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-eye" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z" />
                <path fill-rule="evenodd"
                    d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
            </svg>
        </span>
    </button>
    <button mat-raised-button (click)="toggleWrong()" [ngClass]="{'hidden': this.hideWrong}">
        <span class="is-wrong">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                <path fill-rule="evenodd"
                    d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z" />
                <path fill-rule="evenodd"
                    d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z" />
            </svg>
        </span>
    </button>
</div>
<table class="table table-sm table-striped table-hover">
    <thead class="thead-light">
        <tr>
            <!-- <th scope="hidden col">#</th> -->
            <th scope="col">#</th>
            <th class="text-center" scope="col">Richtig</th>
            <th class="text-center" scope="col">Accent</th>
            <th class="text-center" scope="col">Artikel</th>
            <th class="text-center" scope="col">Falsch</th>
            <th style="width: 15%" scope="col">LÃ¶sung</th>
            <th style="width: 15%" scope="col">Antwort</th>
            <th style="width: 10%" scope="col">Aussprache</th>
            <th style="width: 15%" scope="col">Deutsch</th>
            <th style="width: 10%" scope="col">Bereich</th>
            <th style="width: 10%" scope="col">Lektion</th>
            <th style="width: 10%" scope="col">Datum</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let testResult of testResultsFiltered; let idx = index">
            <!-- <th scope="hidden row">{{testResult.id}}</th> -->
            <td>{{idx+1}}</td>
            <td class="text-center">
                <span class="is-correct"
                    *ngIf="testResult.isCorrect && !testResult.isSimilar && !testResult.isArtikelFehler && !testResult.isSimilarAndArtikelFehler">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                        <path fill-rule="evenodd"
                            d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z" />
                    </svg>
                </span>
            </td>
            <td class="text-center">
                <span class="is-mostly-correct"
                    *ngIf="!testResult.isWrong && (testResult.isSimilar || testResult.isSimilarAndArtikelFehler)">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-exclamation-triangle"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M7.938 2.016a.146.146 0 0 0-.054.057L1.027 13.74a.176.176 0 0 0-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 0 0 .066-.017.163.163 0 0 0 .055-.06.176.176 0 0 0-.003-.183L8.12 2.073a.146.146 0 0 0-.054-.057A.13.13 0 0 0 8.002 2a.13.13 0 0 0-.064.016zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z" />
                        <path
                            d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z" />
                    </svg>
                </span>
            </td>
            <td class="text-center">
                <span class="is-mostly-correct"
                    [ngClass]="{'male': isTruthArticleMasc(testResult.truth), 'female': isTruthArticleFem(testResult.truth)}"
                    *ngIf="!testResult.isWrong && (testResult.isArtikelFehler || testResult.isSimilarAndArtikelFehler)">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-eye" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z" />
                        <path fill-rule="evenodd"
                            d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
                    </svg>
                </span>
            </td>
            <td class="text-center">
                <span class="is-wrong" *ngIf="testResult.isWrong">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                        <path fill-rule="evenodd"
                            d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z" />
                        <path fill-rule="evenodd"
                            d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z" />
                    </svg>
                </span>
            </td>
            <td [innerHtml]="getHtmlStringFrz(testResult.truth)"></td>
            <td [innerHtml]="getHtmlStringFrz(getAnswer(testResult))"></td>
            <td>[{{testResult.phonetik}}]</td>
            <td>{{testResult.question}}</td>
            <td>{{testResult.bereichName}}</td>
            <td>{{testResult.lektionName}}</td>
            <td>{{getFormattedDate(testResult.dateTested)}}</td>
        </tr>
    </tbody>
</table>